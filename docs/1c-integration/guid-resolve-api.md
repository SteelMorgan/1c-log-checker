# API –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è GUID ‚Üí Presentation

## –û–ø–∏—Å–∞–Ω–∏–µ

**MCP-—Å–µ—Ä–≤–µ—Ä** —Å–æ–±–∏—Ä–∞–µ—Ç –ø–∞—Ä—Ç–∏–∏ (batch) GUID'–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ 1C –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.
**1C** –æ–±–æ–≥–∞—â–∞–µ—Ç JSON –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç presentations.

**–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä:** MCP-—Å–µ—Ä–≤–µ—Ä (–∞ –Ω–µ 1C!)

---

## üîå Endpoint

### POST `/resolve`

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ GUID'–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç map —Å presentations.

**Request:**
```json
{
  "infobase_guid": "d723aefd-7992-420d-b5f9-a273fd4146be",
  "user_guids": [
    "071523a4-516f-4fce-ba4b-0d11ab7a1893",
    "182634b5-627f-5fdf-cb5c-1e22bc8b2904",
    "293745c6-738f-6fef-dc6d-2f33cd9c3a15"
  ],
  "metadata_guids": [
    "a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d",
    "b2c3d4e5-f6a7-5b6c-9d0e-1f2a3b4c5d6e"
  ],
  "data_guids": [
    "f1e2d3c4-b5a6-4958-8c7d-0e1f2a3b4c5d"
  ]
}
```

**Response:**
```json
{
  "infobase_guid": "d723aefd-7992-420d-b5f9-a273fd4146be",
  "timestamp": "2025-11-17T14:30:00Z",
  "users": {
    "071523a4-516f-4fce-ba4b-0d11ab7a1893": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
    "182634b5-627f-5fdf-cb5c-1e22bc8b2904": "–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á",
    "293745c6-738f-6fef-dc6d-2f33cd9c3a15": "–°–∏–¥–æ—Ä–æ–≤ –°–µ—Ä–≥–µ–π –°–µ—Ä–≥–µ–µ–≤–∏—á"
  },
  "metadata": {
    "a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d": "–î–æ–∫—É–º–µ–Ω—Ç.–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤",
    "b2c3d4e5-f6a7-5b6c-9d0e-1f2a3b4c5d6e": "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞"
  },
  "data": {
    "f1e2d3c4-b5a6-4958-8c7d-0e1f2a3b4c5d": "–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤ ‚Ññ00001 –æ—Ç 15.11.2025"
  },
  "error_count": 0,
  "error_guids": []
}
```

---

## üìã –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### Request fields:
- `infobase_guid` - GUID –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑—ã
- `user_guids` - –º–∞—Å—Å–∏–≤ GUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–æ 500 —à—Ç)
- `metadata_guids` - –º–∞—Å—Å–∏–≤ GUID –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–æ 500 —à—Ç)
- `data_guids` - –º–∞—Å—Å–∏–≤ GUID –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–æ 500 —à—Ç)

### Response fields:
- `users` - map: GUID ‚Üí –§–ò–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `metadata` - map: GUID ‚Üí –ò–º—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–æ–∫—É–º–µ–Ω—Ç.–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤")
- `data` - map: GUID ‚Üí –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤ ‚Ññ00001")
- `error_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ GUID, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑—Ä–µ—à–∏—Ç—å
- `error_guids` - –º–∞—Å—Å–∏–≤ GUID, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

---

## ‚öôÔ∏è –õ–æ–≥–∏–∫–∞ 1C

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ 1C:

```1c
// HTTP –º–µ—Ç–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
–§—É–Ω–∫—Ü–∏—è POST_resolve(–ó–∞–ø—Ä–æ—Å) –≠–∫—Å–ø–æ—Ä—Ç

	–ü–æ–ø—ã—Ç–∫–∞
		// –ü–∞—Ä—Å–∏–º JSON –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
		–ß—Ç–µ–Ω–∏–µJSON = –ù–æ–≤—ã–π –ß—Ç–µ–Ω–∏–µJSON;
		–ß—Ç–µ–Ω–∏–µJSON.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–°—Ç—Ä–æ–∫—É(–ó–∞–ø—Ä–æ—Å.–ü–æ–ª—É—á–∏—Ç—å–¢–µ–ª–æ–ö–∞–∫–°—Ç—Ä–æ–∫—É());
		–ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–ø—Ä–æ—Å–∞ = –ü—Ä–æ—á–∏—Ç–∞—Ç—åJSON(–ß—Ç–µ–Ω–∏–µJSON);

		InfobaseGUID = –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–ø—Ä–æ—Å–∞["infobase_guid"];
		UserGUIDs = –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–ø—Ä–æ—Å–∞["user_guids"];
		MetadataGUIDs = –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–ø—Ä–æ—Å–∞["metadata_guids"];
		DataGUIDs = –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ó–∞–ø—Ä–æ—Å–∞["data_guids"];

		// –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
		–û—Ç–≤–µ—Ç = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
		–û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("infobase_guid", InfobaseGUID);
		–û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("timestamp", XML–°—Ç—Ä–æ–∫–∞(–¢–µ–∫—É—â–∞—è–î–∞—Ç–∞–°–µ–∞–Ω—Å–∞()));
		–û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("users", –†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π(UserGUIDs));
		–û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("metadata", –†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö(MetadataGUIDs));
		–û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("data", –†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–û–±—ä–µ–∫—Ç–æ–≤(DataGUIDs));
		–û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("error_count", 0);
		–û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("error_guids", –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤);

		// –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –≤ JSON
		–ó–∞–ø–∏—Å—åJSON = –ù–æ–≤—ã–π –ó–∞–ø–∏—Å—åJSON;
		–ó–∞–ø–∏—Å—åJSON.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–°—Ç—Ä–æ–∫—É();
		–ó–∞–ø–∏—Å–∞—Ç—åJSON(–ó–∞–ø–∏—Å—åJSON, –û—Ç–≤–µ—Ç);
		–¢–µ–ª–æ–û—Ç–≤–µ—Ç–∞ = –ó–∞–ø–∏—Å—åJSON.–ó–∞–∫—Ä—ã—Ç—å();

		// –í–æ–∑–≤—Ä–∞—â–∞–µ–º HTTP –æ—Ç–≤–µ—Ç
		HTTP–û—Ç–≤–µ—Ç = –ù–æ–≤—ã–π HTTP–°–µ—Ä–≤–∏—Å–û—Ç–≤–µ—Ç(200);
		HTTP–û—Ç–≤–µ—Ç.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Content-Type", "application/json; charset=utf-8");
		HTTP–û—Ç–≤–µ—Ç.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–¢–µ–ª–æ–ò–∑–°—Ç—Ä–æ–∫–∏(–¢–µ–ª–æ–û—Ç–≤–µ—Ç–∞);

		–í–æ–∑–≤—Ä–∞—Ç HTTP–û—Ç–≤–µ—Ç;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		HTTP–û—Ç–≤–µ—Ç = –ù–æ–≤—ã–π HTTP–°–µ—Ä–≤–∏—Å–û—Ç–≤–µ—Ç(500);
		–û—à–∏–±–∫–∞JSON = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
		–û—à–∏–±–∫–∞JSON.–í—Å—Ç–∞–≤–∏—Ç—å("error", –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());

		–ó–∞–ø–∏—Å—åJSON = –ù–æ–≤—ã–π –ó–∞–ø–∏—Å—åJSON;
		–ó–∞–ø–∏—Å—åJSON.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–°—Ç—Ä–æ–∫—É();
		–ó–∞–ø–∏—Å–∞—Ç—åJSON(–ó–∞–ø–∏—Å—åJSON, –û—à–∏–±–∫–∞JSON);

		HTTP–û—Ç–≤–µ—Ç.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Content-Type", "application/json; charset=utf-8");
		HTTP–û—Ç–≤–µ—Ç.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–¢–µ–ª–æ–ò–∑–°—Ç—Ä–æ–∫–∏(–ó–∞–ø–∏—Å—åJSON.–ó–∞–∫—Ä—ã—Ç—å());

		–í–æ–∑–≤—Ä–∞—Ç HTTP–û—Ç–≤–µ—Ç;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –†–∞–∑—Ä–µ—à–∏—Ç—å –º–∞—Å—Å–∏–≤ GUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–§—É–Ω–∫—Ü–∏—è –†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π(–ú–∞—Å—Å–∏–≤–ì–£–ò–î) –≠–∫—Å–ø–æ—Ä—Ç

	–ï—Å–ª–∏ –ú–∞—Å—Å–∏–≤–ì–£–ò–î = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –ù–æ–≤—ã–π –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–†–µ–∑—É–ª—å—Ç–∞—Ç = –ù–æ–≤—ã–π –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ;

	–î–ª—è –ö–∞–∂–¥–æ–≥–æ –ì–£–ò–î–°—Ç—Ä–æ–∫–∞ –ò–∑ –ú–∞—Å—Å–∏–≤–ì–£–ò–î –¶–∏–∫–ª
		–ü–æ–ø—ã—Ç–∫–∞
			–ì–£–ò–î = –ù–æ–≤—ã–π –£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞);

			// –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ GUID
			–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π –ó–∞–ø—Ä–æ—Å;
			–ó–∞–ø—Ä–æ—Å.–¢–µ–∫—Å—Ç =
			"–í–´–ë–†–ê–¢–¨ –ü–ï–†–í–´–ï 1
			|	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ö–ê–ö –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
			|–ò–ó
			|	–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ö–ê–ö –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
			|–ì–î–ï
			|	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.–°—Å—ã–ª–∫–∞.–£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä() = &–ì–£–ò–î";

			–ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä("–ì–£–ò–î", –ì–£–ò–î);

			–í—ã–±–æ—Ä–∫–∞ = –ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å().–í—ã–±—Ä–∞—Ç—å();

			–ï—Å–ª–∏ –í—ã–±–æ—Ä–∫–∞.–°–ª–µ–¥—É—é—â–∏–π() –¢–æ–≥–¥–∞
				–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –í—ã–±–æ—Ä–∫–∞.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ);
			–ò–Ω–∞—á–µ
				// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º GUID –∫–∞–∫ –µ—Å—Ç—å
				–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ì–£–ò–î–°—Ç—Ä–æ–∫–∞);
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
			// –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ GUID - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
			–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ì–£–ò–î–°—Ç—Ä–æ–∫–∞);
		–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
	–ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;

	–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –†–∞–∑—Ä–µ—à–∏—Ç—å –º–∞—Å—Å–∏–≤ GUID –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
–§—É–Ω–∫—Ü–∏—è –†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö(–ú–∞—Å—Å–∏–≤–ì–£–ò–î) –≠–∫—Å–ø–æ—Ä—Ç

	–ï—Å–ª–∏ –ú–∞—Å—Å–∏–≤–ì–£–ò–î = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –ù–æ–≤—ã–π –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–†–µ–∑—É–ª—å—Ç–∞—Ç = –ù–æ–≤—ã–π –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ;

	–î–ª—è –ö–∞–∂–¥–æ–≥–æ –ì–£–ò–î–°—Ç—Ä–æ–∫–∞ –ò–∑ –ú–∞—Å—Å–∏–≤–ì–£–ò–î –¶–∏–∫–ª
		–ü–æ–ø—ã—Ç–∫–∞
			–ì–£–ò–î = –ù–æ–≤—ã–π –£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞);

			// –ü–æ–∏—Å–∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–æ GUID
			–ò–º—è–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö = "";

			// –î–æ–∫—É–º–µ–Ω—Ç—ã
			–î–ª—è –ö–∞–∂–¥–æ–≥–æ –ú–µ—Ç–∞–î–æ–∫ –ò–∑ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.–î–æ–∫—É–º–µ–Ω—Ç—ã –¶–∏–∫–ª
				–ï—Å–ª–∏ –ú–µ—Ç–∞–î–æ–∫.–£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä() = –ì–£–ò–î –¢–æ–≥–¥–∞
					–ò–º—è–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö = "–î–æ–∫—É–º–µ–Ω—Ç." + –ú–µ—Ç–∞–î–æ–∫.–ò–º—è;
					–ü—Ä–µ—Ä–≤–∞—Ç—å;
				–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
			–ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;

			// –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
			–ï—Å–ª–∏ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ò–º—è–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö) –¢–æ–≥–¥–∞
				–î–ª—è –ö–∞–∂–¥–æ–≥–æ –ú–µ—Ç–∞–°–ø—Ä –ò–∑ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –¶–∏–∫–ª
					–ï—Å–ª–∏ –ú–µ—Ç–∞–°–ø—Ä.–£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä() = –ì–£–ò–î –¢–æ–≥–¥–∞
						–ò–º—è–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö = "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫." + –ú–µ—Ç–∞–°–ø—Ä.–ò–º—è;
						–ü—Ä–µ—Ä–≤–∞—Ç—å;
					–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
				–ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

			// –û–±—Ä–∞–±–æ—Ç–∫–∏, –û—Ç—á–µ—Ç—ã –∏ —Ç.–¥. - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

			–ï—Å–ª–∏ –ù–ï –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ò–º—è–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö) –¢–æ–≥–¥–∞
				–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ò–º—è–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö);
			–ò–Ω–∞—á–µ
				// –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
				–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ì–£–ò–î–°—Ç—Ä–æ–∫–∞);
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
			–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ì–£–ò–î–°—Ç—Ä–æ–∫–∞);
		–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
	–ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;

	–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –†–∞–∑—Ä–µ—à–∏—Ç—å –º–∞—Å—Å–∏–≤ GUID –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö
–§—É–Ω–∫—Ü–∏—è –†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–û–±—ä–µ–∫—Ç–æ–≤(–ú–∞—Å—Å–∏–≤–ì–£–ò–î) –≠–∫—Å–ø–æ—Ä—Ç

	–ï—Å–ª–∏ –ú–∞—Å—Å–∏–≤–ì–£–ò–î = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –ù–æ–≤—ã–π –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–†–µ–∑—É–ª—å—Ç–∞—Ç = –ù–æ–≤—ã–π –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ;

	// –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑!
	// –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ GUID

	–î–ª—è –ö–∞–∂–¥–æ–≥–æ –ì–£–ò–î–°—Ç—Ä–æ–∫–∞ –ò–∑ –ú–∞—Å—Å–∏–≤–ì–£–ò–î –¶–∏–∫–ª
		–ü–æ–ø—ã—Ç–∫–∞
			–ì–£–ò–î = –ù–æ–≤—ã–π –£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞);

			// –ü–æ–ø—ã—Ç–∫–∞ –Ω–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç –ø–æ GUID
			// –≠—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ! –õ—É—á—à–µ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
			–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ = "";

			// –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
			–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π –ó–∞–ø—Ä–æ—Å;
			–ó–∞–ø—Ä–æ—Å.–¢–µ–∫—Å—Ç =
			"–í–´–ë–†–ê–¢–¨ –ü–ï–†–í–´–ï 1
			|	–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤.–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ö–ê–ö –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
			|–ò–ó
			|	–î–æ–∫—É–º–µ–Ω—Ç.–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤ –ö–ê–ö –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤
			|–ì–î–ï
			|	–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–¢–æ–≤–∞—Ä–æ–≤.–°—Å—ã–ª–∫–∞.–£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä() = &–ì–£–ò–î";

			–ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä("–ì–£–ò–î", –ì–£–ò–î);
			–í—ã–±–æ—Ä–∫–∞ = –ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å().–í—ã–±—Ä–∞—Ç—å();

			–ï—Å–ª–∏ –í—ã–±–æ—Ä–∫–∞.–°–ª–µ–¥—É—é—â–∏–π() –¢–æ–≥–¥–∞
				–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ = –í—ã–±–æ—Ä–∫–∞.–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ;
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

			// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...

			–ï—Å–ª–∏ –ù–ï –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ) –¢–æ–≥–¥–∞
				–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ);
			–ò–Ω–∞—á–µ
				–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ì–£–ò–î–°—Ç—Ä–æ–∫–∞);
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
			–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å(–ì–£–ò–î–°—Ç—Ä–æ–∫–∞, –ì–£–ò–î–°—Ç—Ä–æ–∫–∞);
		–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
	–ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;

	–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–∞–∑–º–µ—Ä batch (–ø–∞—Ä—Ç–∏–∏):
- **500 GUID** –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
- –ü—Ä–∏ 500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö: ~15KB JSON
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: ~100-500ms (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç 1C)

### –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:
- **–¢–∞ –∂–µ, —á—Ç–æ –∏ parser**: –∫–∞–∂–¥—ã–µ 5-10 –º–∏–Ω—É—Ç
- –û–±–æ–≥–∞—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ **–Ω–æ–≤—ã–µ** GUID (–Ω–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤ –∫—ç—à–µ)

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. **–ü–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** –∏—â–µ–º presentation –≤ event_log (—É–∂–µ –µ—Å—Ç—å?)
2. **–í—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** –∏—â–µ–º –≤ logs.user_map (–∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–æ?)
3. **–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ù–ï –Ω–∞—à–ª–∏:** –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ 1C

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
```
Headers:
  X-API-Key: your-secret-api-key-here
```

–ò–ª–∏ Basic Auth / JWT - –Ω–∞ –≤–∞—à –≤—ã–±–æ—Ä.

### IP Whitelist:
–†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å IP —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è gzip** (–∫–∞–∫ –≤—ã —É–∫–∞–∑–∞–ª–∏)
2. **Batch size = 500** –º–∞–∫—Å–∏–º—É–º
3. **–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä = MCP-—Å–µ—Ä–≤–µ—Ä**, –∞ –Ω–µ 1C
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –¥–µ–ª–∞—é—Ç—Å—è
5. **data_guids –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** - –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ 1C

- [ ] –°–æ–∑–¥–∞—Ç—å HTTP —Å–µ—Ä–≤–∏—Å —Å –º–µ—Ç–æ–¥–æ–º POST `/resolve`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `–†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `–†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö`
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `–†–∞–∑—Ä–µ—à–∏—Ç—å–ì–£–ò–î–û–±—ä–µ–∫—Ç–æ–≤`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (X-API-Key)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å IP whitelist
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å batch 500 GUID
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã (–∏–Ω–¥–µ–∫—Å—ã –ø–æ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)

---

## üìû –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ 1C endpoint, –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∂–∏—Ç–µ:

```env
# deploy/docker/.env
ENRICHMENT_ENABLED=true
ENRICHMENT_ENDPOINT=http://your-1c-server:8080
ENRICHMENT_API_KEY=your-secret-key
ENRICHMENT_BATCH_SIZE=500
ENRICHMENT_INTERVAL=10m  # –¢–∞ –∂–µ –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å, —á—Ç–æ parser
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã ‚Üí worker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –æ–±–æ–≥–∞—â–µ–Ω–∏–µ!
