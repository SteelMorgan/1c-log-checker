# Все специальные теги и блоки Claude Code

## Краткий справочник

### 1. Системные информационные блоки (Static)

| Тег | Когда | Назначение |
|-----|-------|------------|
| `<env>` | Начало сессии | Рабочая директория, платформа, дата |
| `<claude_background_info>` | Системный промпт | Информация о модели Claude |
| `<budget:token_budget>` | Начало сессии | Лимит токенов (200000) |
| `<thinking_mode>` | Начало сессии | Режим: interleaved/auto/off |
| `<max_thinking_length>` | Начало сессии | Макс длина thinking (31999) |

### 2. Динамические системные сообщения

| Тег | Когда | Назначение |
|-----|-------|------------|
| `<system-reminder>` | Динамически | Напоминания (todo, malware, empty file) |
| `<system_warning>` | После tools | Token usage статистика |

### 3. Tool Execution

| Тег | Назначение |
|-----|------------|
| `<function_calls>` | Обёртка для вызовов инструментов |
| `<invoke name="...">` | Вызов конкретного инструмента |
| `<parameter name="...">` | Параметр инструмента |
| `<function_results>` | Результаты выполнения |
| `<result>` | Результат одного инструмента |
| `<name>` | Имя выполненного инструмента |
| `<output>` | Вывод инструмента (успех) |
| `<error>` | Ошибка выполнения |
| `<tool_use_error>` | Ошибка валидации параметров |

### 4. Thinking Blocks

| Тег | Назначение |
|-----|------------|
| `<thinking>` | Блок внутренних размышлений агента |

### 5. Skills and Commands

| Тег | Назначение |
|-----|------------|
| `<command-message>` | Сообщение о загрузке skill/command |
| `<available_skills>` | Список доступных skills |
| `<skill>` | Определение одного skill |

### 6. Examples and Instructions

| Тег | Назначение |
|-----|------------|
| `<example>` | Пример в инструкциях |
| `<good-example>` | Хороший пример |
| `<bad-example>` | Плохой пример (чего избегать) |
| `<example_agent_descriptions>` | Описания агентов в примерах |

---

## Примеры использования

### Пример 1: Вызов инструмента с результатом

```xml
<function_calls>
<invoke name="Read">
<parameter name="file_path">/path/to/file.txt