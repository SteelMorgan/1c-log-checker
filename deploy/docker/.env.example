# ClickHouse Configuration
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_DB=logs
CLICKHOUSE_PORT=9000
LOG_RETENTION_DAYS=30

# Log Parser Configuration
# Windows paths - separate multiple directories with semicolon (;)
LOG_DIRS=C:\Program Files\1cv8\srvinfo
TECHLOG_DIRS=C:\ProgramData\1C\1Cv8\logs

# Parser Modes
# READ_ONLY: Technical mode for debugging (default: false)
# When true, parser reads logs but does not write to ClickHouse
READ_ONLY=false

# OFFSET_MIRROR: Mirror offset storage to ClickHouse (default: false)
# When true, offsets are stored both in BoltDB and ClickHouse log_offsets table
OFFSET_MIRROR=false

# DEBUG_SAVE_ALL_RECORDS: Save all parsed records to JSONL file (default: false)
# When true, saves to /app/debug/parser_all_records.jsonl for debugging/verification
# WARNING: Can generate large files! Only enable for debugging.
DEBUG_SAVE_ALL_RECORDS=false

# MCP Server Configuration
MCP_PORT=8080

# Logging
# Levels: debug, info, warn, error
LOG_LEVEL=info

# Grafana Configuration
GRAFANA_PASSWORD=admin

# Cluster/Infobase Configuration
# Path to cluster_map.yaml (inside container or absolute path)
# Note: File should be placed in project root, but inside container it's mounted to /app/configs/
# See README.md "Быстрый старт" -> "3. Настройка GUID-маппинга" for details
CLUSTER_MAP_PATH=/app/configs/cluster_map.yaml

# Tech Log Configuration Directory
# Directory where logcfg.xml file should be created/updated
# This directory is in the project root (configs/techlog/)
# The actual logcfg.xml file will be created here by the MCP server
# 
# IMPORTANT: To make 1C platform read from this directory, you need to:
# 1. Edit conf.cfg file in the platform-specific directory (NOT in C:\Program Files\1cv8\conf\)
#    Example: C:\Program Files\1cv8\8.3.27.1719\bin\conf\conf.cfg
# 2. Add ConfLocation parameter pointing to this directory (as absolute path)
#    Example: ConfLocation=D:\My Projects\FrameWork 1C\1c-log-checker\configs\techlog\
#    (must be the SAME path as TECHLOG_CONFIG_DIR, but as absolute path)
# 3. See docs/techlog/configuration-setup.md for detailed instructions
# 4. See README.md "Быстрый старт" -> "2. Конфигурация" for quick reference
#
# Windows: Use relative path from project root (e.g., configs/techlog)
# Linux: Use absolute path (e.g., /home/user/projects/1c-log-checker/configs/techlog)
# Note: In conf.cfg file, you MUST use absolute path pointing to this same directory
TECHLOG_CONFIG_DIR=configs/techlog

# Event Log Reading Method
# Direct file parsing is used (reading .lgp files directly)

# OpenTelemetry (optional)
# Enable distributed tracing (default: false)
TRACING_ENABLED=false

